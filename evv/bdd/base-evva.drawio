
CREATE DATABASE evvamode;
use evvamode;

CREATE TABLE admin(
id_admin int(1) not null primary key auto_increment,
nom_adm varchar(30)not null,
prenom_adm varchar(30)not null,
email_adm varchar(30)not null,
tel_adm varchar(15) not null,
username_adm varchar(45)not null,
password_adm varchar(255)not null
 )ENGINE=INNODB;


CREATE TABLE slider(
id_slider int(3) not null primary key auto_increment,
url_img_slider varchar(255)not null,
titre_slider varchar (45)not null,
id_admin int,
  foreign key (id_admin) references admin (id_admin)  ON DELETE CASCADE
)ENGINE=INNODB;



CREATE TABLE categories(
id_catg int(3) not null primary key auto_increment,
desi_catg VARCHAR (45)not null,
id_admin int,
foreign key (id_admin) references admin (id_admin)  ON DELETE CASCADE

)ENGINE=INNODB;



CREATE TABLE style (
id_styl int(1) not null primary key auto_increment,
type_styl varchar (12)not null
)ENGINE=INNODB;





CREATE TABLE date(
date_solde DATE primary key not null
)ENGINE=INNODB;

 
CREATE TABLE styliste(
id_styls int(5) not null primary key auto_increment, 
nom_styls VARCHAR(30)not null, 
prenom_styls VARCHAR(30)not null,  
tel_styls VARCHAR(15)not null, 
url_photo_styls VARCHAR(100)not null, 
url_logo_styls VARCHAR(100)not null, 
descri_styls VARCHAR(255)not null, 
id_admin int, 
 foreign key (id_admin) references admin (id_admin)  ON DELETE CASCADE
)ENGINE=INNODB;


CREATE TABLE client(
id_client int(5) not null primary key auto_increment, 
nom_client VARCHAR(30)not null, 
prenom_client VARCHAR(30)not null, 
email_client VARCHAR(45)not null, 
tel_client VARCHAR(15)not null, 
password_client VARCHAR(255)not null, 
id_admin int,
foreign key (id_admin) references admin (id_admin)  ON DELETE CASCADE
)ENGINE=INNODB;




CREATE TABLE evenement(
id_event int(3) not null primary key auto_increment,
titre_event  varchar (45)not null,
date_event  DATE not null,
heure_event time not null,
adresse_event VARCHAR(45)not null,
descri_event varchar (255)not null,
url_img_event VARCHAR(100)not null,
id_admin int,
id_styls int,
 foreign key (id_admin) references admin (id_admin)  ON DELETE CASCADE ,
foreign key (id_styls) references styliste (id_styls)  ON DELETE CASCADE
)ENGINE=INNODB;


CREATE TABLE article(
id_art int(11) not null primary key auto_increment,
nom_art varchar (30)not null,
prix_art decimal(6,4) not null,
url_img_art VARCHAR(100) not null,
descri_art VARCHAR(100) not null,
id_admin int,
id_catg int,
id_styls int,
id_styl int,
foreign key (id_admin) references admin (id_admin) ON DELETE CASCADE, 
foreign key (id_catg) references categories (id_catg) ON DELETE CASCADE, 
foreign key (id_styls) references styliste (id_styls) ON DELETE CASCADE,
foreign key (id_styl) references style (id_styl) ON DELETE CASCADE

)ENGINE=INNODB;





CREATE TABLE point_de_vente(
id_pv int(5) not null primary key auto_increment, 
adresse_pv VARCHAR(45)not null, 
nom_res_pv VARCHAR(30)not null, 
prenom_res_pv VARCHAR(30)not null, 
email_res_pv VARCHAR(45)not null, 
tel_pv VARCHAR(15)not null, 
id_admin int,
id_styls int,
foreign key (id_admin) references admin (id_admin) ON DELETE CASCADE,
foreign key (id_styls) references styliste (id_styls) ON DELETE CASCADE
)ENGINE=INNODB;

CREATE TABLE voter(
id_client int , 
id_art int, 
id_admin int,
nbr_etoile int(1) not null, 
foreign key (id_admin) references admin (id_admin) ON DELETE CASCADE, 
foreign key (id_client) references client (id_client) ON DELETE CASCADE, 
foreign key (id_art) references article (id_art) ON DELETE CASCADE

)ENGINE=INNODB;



CREATE TABLE solder(
pourcentage_solde INT(3) not null, 
id_art INT, 
date_solde date, 
id_admin INT, 
foreign key (id_art) references article (id_art) ON DELETE CASCADE,
foreign key (date_solde) references date (date_solde) ON DELETE CASCADE,
foreign key (id_admin) references admin (id_admin) ON DELETE CASCADE

)ENGINE=INNODB;





CREATE TABLE commande(
n_comd int not null primary key auto_increment (11),
date_h_comd datetime not null,
qunt int(3) not null,
prix_comd decimal not null,
id_art int,
id_client int,
id_admin int,
foreign key (id_admin) references admin (id_admin) ON DELETE CASCADE, 
foreign key (id_client) references client (id_client) ON DELETE CASCADE,
foreign key (id_art) references article (id_art) ON DELETE CASCADE
)ENGINE=INNODB;
 





